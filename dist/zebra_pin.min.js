!function(d){"use strict";d.Zebra_Pin=function(t,s){var n={class_name:"Zebra_Pin",contain:!(this.version="2.0.0"),hard:!1,top_spacing:0,bottom_spacing:0,z_index:1e3,onPin:null,onUnpin:null},p=this,r=(Math.random()+1).toString(36).substring(2,7),c=d(window);p.update=function(){t.each(function(s){var n,e,i=d(this),a=(d(this).hasClass(p.settings.class_name)&&(i.attr("style",i.data("ztt_previous_style")||"").removeClass(p.settings.class_name).removeClass("Zebra_Pin_Contained"),i.next(".Zebra_Pin_Clone").remove()),i.offset()),o=i.position(),l=i.outerHeight(),g=i.outerWidth(),t=parseInt(i.css("marginLeft"),10)||0,_=parseInt(i.css("marginTop"),10)||0;a.left-=t,a.top-=_,p.settings.contain&&(t=i.parent(),n=t.height(),e=t.offset()),p.settings.hard?i.css({position:"fixed",left:a.left,top:a.top,width:g,zIndex:p.settings.z_index}).addClass(p.settings.class_name):(c.off("scroll"+(_=".Zebra_Pin_"+r+"_"+s)).on("scroll"+_,function(){var t=c.scrollTop();t>=a.top-p.settings.top_spacing&&(!p.settings.contain||t<=e.top+n-p.settings.top_spacing-l-p.settings.bottom_spacing)&&(!i.hasClass(p.settings.class_name)||i.hasClass("Zebra_Pin_Contained"))?(i.hasClass("Zebra_Pin_Contained")?i.removeClass("Zebra_Pin_Contained"):(i.clone().addClass("Zebra_Pin_Clone").insertAfter(i).css("visibility","hidden"),i.data("ztt_previous_style",i.attr("style")).addClass(p.settings.class_name),p.settings.onPin&&"function"==typeof p.settings.onPin&&p.settings.onPin(a.top-p.settings.top_spacing,i,s)),i.css({position:"fixed",left:a.left,top:p.settings.top_spacing,width:g,zIndex:p.settings.z_index})):t<a.top-p.settings.top_spacing&&i.hasClass(p.settings.class_name)?(i.next(".Zebra_Pin_Clone").remove(),i.attr("style",i.data("ztt_previous_style")||"").removeClass(p.settings.class_name),p.settings.onUnpin&&"function"==typeof p.settings.onUnpin&&p.settings.onUnpin(a.top-p.settings.top_spacing,i,s)):p.settings.contain&&t>=e.top+n-p.settings.top_spacing-l-p.settings.bottom_spacing&&!i.hasClass("Zebra_Pin_Contained")&&(i.hasClass(p.settings.class_name)||(i.clone().addClass("Zebra_Pin_Clone").insertAfter(i).css("visibility","hidden"),i.data("ztt_previous_style",i.attr("style")).addClass(p.settings.class_name),p.settings.onPin&&"function"==typeof p.settings.onPin&&p.settings.onPin(a.top-p.settings.top_spacing,i,s)),i.css({position:"absolute",left:o.left,top:n-l-p.settings.bottom_spacing-p.settings.bottom_spacing}).addClass("Zebra_Pin_Contained"))}),c.trigger("scroll"+_))})},p.settings={},p.settings=d.extend({},n,s),p.update(),c.on("resize",function(){p.update()})}}(jQuery);